# æ”¶è—åŠŸèƒ½å®Œå–„è¯´æ˜

## ğŸ“Š å·²å®Œæˆçš„å·¥ä½œ

### 1. æ•°æ®åº“å±‚
âœ… **åˆ›å»ºæ”¶è—è¡¨** (`favorite`)
- å­—æ®µï¼šid, user_id, product_id, deleted, create_time, update_time
- å”¯ä¸€ç´¢å¼•ï¼šuser_id + product_idï¼ˆé˜²æ­¢é‡å¤æ”¶è—ï¼‰
- ç´¢å¼•ï¼šuser_id, product_idï¼ˆæé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰

### 2. åç«¯å±‚
âœ… **å®ä½“ç±»** - `Favorite.java`
âœ… **Mapper** - `FavoriteMapper.java`
âœ… **VO** - `FavoriteVO.java`
âœ… **Serviceæ¥å£** - `FavoriteService.java`
âœ… **Serviceå®ç°** - `FavoriteServiceImpl.java`
âœ… **Controller** - `FavoriteController.java`

#### APIæ¥å£åˆ—è¡¨ï¼š
- `POST /favorite/add` - æ·»åŠ æ”¶è—
- `DELETE /favorite/remove` - å–æ¶ˆæ”¶è—
- `GET /favorite/check` - æ£€æŸ¥æ˜¯å¦å·²æ”¶è—
- `GET /favorite/my` - è·å–æˆ‘çš„æ”¶è—åˆ—è¡¨
- `GET /favorite/count` - è·å–æ”¶è—æ•°é‡

### 3. å‰ç«¯å±‚
âœ… **APIå°è£…** - `frontend/src/api/favorite.js`
âœ… **ç”¨æˆ·ä¸­å¿ƒæ”¶è—åˆ—è¡¨** - `User.vue`ï¼ˆæ”¹ç”¨çœŸå®APIï¼‰
âœ… **äº§å“è¯¦æƒ…é¡µæ”¶è—æŒ‰é’®** - `ProductDetail.vue`ï¼ˆæ”¹ç”¨çœŸå®APIï¼‰

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1ï¼šæ‰§è¡ŒSQLè„šæœ¬
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨æä¾›çš„SQLæ–‡ä»¶
mysql -u root -p < åˆ›å»ºæ”¶è—è¡¨.sql

# æ–¹æ³•2ï¼šæ‰‹åŠ¨æ‰§è¡ŒSQL
mysql -u root -p
USE jingdezhen_tourism;
# ç„¶åç²˜è´´schema.sqlä¸­çš„æ”¶è—è¡¨åˆ›å»ºè¯­å¥
```

### æ­¥éª¤2ï¼šé‡å¯åç«¯æœåŠ¡
åç«¯Javaæ–‡ä»¶å·²å…¨éƒ¨åˆ›å»ºï¼Œéœ€è¦é‡å¯æœåŠ¡ï¼š
1. åœæ­¢å½“å‰è¿è¡Œçš„åç«¯
2. é‡æ–°å¯åŠ¨ `TourismApplication`
3. ç¡®è®¤å¯åŠ¨æˆåŠŸï¼ˆæ— æŠ¥é”™ï¼‰

### æ­¥éª¤3ï¼šåˆ·æ–°å‰ç«¯é¡µé¢
1. åˆ·æ–°æµè§ˆå™¨ï¼ˆCmd+Shift+R æˆ– Ctrl+Shift+Rï¼‰
2. é‡æ–°ç™»å½•ï¼ˆæ¸…é™¤æ—§çš„localStorageæ•°æ®ï¼‰

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### äº§å“è¯¦æƒ…é¡µ
- âœ… æ˜¾ç¤ºæ”¶è—æŒ‰é’®
- âœ… å·²æ”¶è—æ˜¾ç¤ºé»„è‰²æŒ‰é’®ï¼Œæœªæ”¶è—æ˜¾ç¤ºé»˜è®¤æŒ‰é’®
- âœ… ç‚¹å‡»æ”¶è—/å–æ¶ˆæ”¶è—å®æ—¶åˆ‡æ¢
- âœ… ç™»å½•çŠ¶æ€æ£€æŸ¥ï¼ˆæœªç™»å½•è·³è½¬ç™»å½•é¡µï¼‰

### ç”¨æˆ·ä¸­å¿ƒ - æˆ‘çš„æ”¶è—
- âœ… æ˜¾ç¤ºæ”¶è—çš„äº§å“åˆ—è¡¨
- âœ… å¡ç‰‡å¼å±•ç¤ºï¼ˆäº§å“å›¾ã€æ ‡é¢˜ã€ä»·æ ¼ã€æ”¶è—æ—¶é—´ï¼‰
- âœ… ç‚¹å‡»äº§å“è·³è½¬åˆ°äº§å“è¯¦æƒ…é¡µ
- âœ… å–æ¶ˆæ”¶è—æŒ‰é’®
- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º

### ç»Ÿè®¡æ•°æ®
- âœ… ç”¨æˆ·ä¸­å¿ƒé¡¶éƒ¨æ˜¾ç¤ºæ”¶è—æ•°é‡
- âœ… å®æ—¶æ›´æ–°ï¼ˆæ·»åŠ /å–æ¶ˆæ”¶è—åè‡ªåŠ¨åˆ·æ–°ï¼‰

---

## ğŸ”„ æ•°æ®è¿ç§»

### ä»localStorageè¿ç§»åˆ°æ•°æ®åº“

ä¹‹å‰æ”¶è—æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨çš„localStorageä¸­ï¼Œç°åœ¨æ”¹ä¸ºæ•°æ®åº“å­˜å‚¨ã€‚

**æ—§æ•°æ®æ¸…ç†ï¼š**
- æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
- Application / Storage â†’ Local Storage
- åˆ é™¤ `favorites` é”®å€¼å¯¹
- åˆ·æ–°é¡µé¢

**æ³¨æ„ï¼š** localStorageä¸­çš„æ”¶è—æ•°æ®å°†æ— æ³•è‡ªåŠ¨è¿ç§»åˆ°æ•°æ®åº“ï¼Œç”¨æˆ·éœ€è¦é‡æ–°æ”¶è—ã€‚

---

## ğŸ“ˆ æŠ€æœ¯å®ç°

### é˜²é‡å¤æ”¶è—
æ•°æ®åº“å±‚é¢é€šè¿‡å”¯ä¸€ç´¢å¼• `uk_user_product` ç¡®ä¿åŒä¸€ç”¨æˆ·ä¸èƒ½é‡å¤æ”¶è—åŒä¸€äº§å“ã€‚

### é€»è¾‘åˆ é™¤
æ”¶è—è®°å½•æ”¯æŒé€»è¾‘åˆ é™¤ï¼ˆ`deleted` å­—æ®µï¼‰ï¼Œå¯ä»¥ä¿ç•™æ•°æ®å†å²ã€‚

### å…³è”æŸ¥è¯¢
æ”¶è—åˆ—è¡¨è¿”å›æ—¶ä¼šè‡ªåŠ¨å…³è”äº§å“ä¿¡æ¯ï¼š
- äº§å“æ ‡é¢˜
- äº§å“å°é¢å›¾
- äº§å“ä»·æ ¼
- äº§å“çŠ¶æ€

---

## ğŸ§ª æµ‹è¯•å»ºè®®

1. **æ·»åŠ æ”¶è—**
   - æœªç™»å½•æ—¶ç‚¹å‡»æ”¶è— â†’ è·³è½¬ç™»å½•é¡µ
   - ç™»å½•åç‚¹å‡»æ”¶è— â†’ æ”¶è—æˆåŠŸ
   - å†æ¬¡ç‚¹å‡»æ”¶è— â†’ æç¤º"å·²ç»æ”¶è—è¿‡äº†"

2. **å–æ¶ˆæ”¶è—**
   - åœ¨äº§å“è¯¦æƒ…é¡µå–æ¶ˆæ”¶è—
   - åœ¨ç”¨æˆ·ä¸­å¿ƒå–æ¶ˆæ”¶è—
   - ç¡®è®¤ä¸¤ä¸ªåœ°æ–¹æ•°æ®åŒæ­¥

3. **æ”¶è—åˆ—è¡¨**
   - æŸ¥çœ‹æˆ‘çš„æ”¶è—åˆ—è¡¨
   - ç‚¹å‡»äº§å“è·³è½¬åˆ°è¯¦æƒ…é¡µ
   - å–æ¶ˆæ”¶è—ååˆ—è¡¨è‡ªåŠ¨åˆ·æ–°

4. **ç»Ÿè®¡æ•°æ®**
   - æ·»åŠ æ”¶è—åæ•°é‡+1
   - å–æ¶ˆæ”¶è—åæ•°é‡-1

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **éœ€è¦ç™»å½•æ‰èƒ½ä½¿ç”¨æ”¶è—åŠŸèƒ½**
2. **åŒä¸€äº§å“åªèƒ½æ”¶è—ä¸€æ¬¡**ï¼ˆæ•°æ®åº“å”¯ä¸€ç´¢å¼•ä¿è¯ï¼‰
3. **æ”¶è—æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ï¼Œä¸å†ä½¿ç”¨localStorage**
4. **äº§å“ä¸‹æ¶åæ”¶è—è®°å½•ä»ç„¶å­˜åœ¨ï¼Œä½†æ— æ³•è·³è½¬**

---

## ğŸ‰ å®ŒæˆçŠ¶æ€

âœ… æ•°æ®åº“è¡¨åˆ›å»º  
âœ… åç«¯APIå¼€å‘  
âœ… å‰ç«¯APIå°è£…  
âœ… ç”¨æˆ·ä¸­å¿ƒé›†æˆ  
âœ… äº§å“è¯¦æƒ…é¡µé›†æˆ  
âœ… ç»Ÿè®¡æ•°æ®æ›´æ–°  

**æ‰€æœ‰æ”¶è—åŠŸèƒ½å·²å®Œæˆï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼**

