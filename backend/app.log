[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for com.jingdezhen:tourism-platform:jar:1.0.0
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.springframework.boot:spring-boot-starter-validation:jar -> duplicate declaration of version (?) @ line 114, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] 
[INFO] ------------------< com.jingdezhen:tourism-platform >-------------------
[INFO] Building Jingdezhen Cultural Tourism Platform 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.1.5:run (default-cli) > test-compile @ tourism-platform >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ tourism-platform ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 3 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ tourism-platform ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ tourism-platform ---
[INFO] skip non existing resourceDirectory /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/src/test/resources
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ tourism-platform ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] <<< spring-boot:3.1.5:run (default-cli) < test-compile @ tourism-platform <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.1.5:run (default-cli) @ tourism-platform ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2025-10-21T10:44:21.068+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Starting TourismApplication using Java 21.0.6 with PID 53854 (/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes started by shirenan in /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend)
2025-10-21T10:44:21.070+08:00 DEBUG 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-10-21T10:44:21.071+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : No active profile set, falling back to 1 default profile: "default"
2025-10-21T10:44:21.134+08:00  INFO 53854 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21T10:44:21.134+08:00  INFO 53854 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21T10:44:22.599+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-21T10:44:22.613+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-21T10:44:22.613+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-10-21T10:44:22.686+08:00  INFO 53854 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-10-21T10:44:22.687+08:00  INFO 53854 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1551 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@361bc6e'
Property 'mapperLocations' was not specified.
Initialization Sequence datacenterId:0 workerId:9
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.3.2 
2025-10-21T10:44:22.967+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-21T10:44:23.160+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56b1efc8
2025-10-21T10:44:23.162+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-21T10:44:24.191+08:00  WARN 53854 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 5e9252f8-a7d3-47ff-9b3b-88d7f004cb8d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-21T10:44:24.342+08:00  INFO 53854 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73a09728, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f2da69, org.springframework.security.web.context.SecurityContextHolderFilter@5499ed41, org.springframework.security.web.header.HeaderWriterFilter@257bc070, org.springframework.security.web.authentication.logout.LogoutFilter@4afed777, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@84dc695, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27b39be9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1819a353, org.springframework.security.web.session.SessionManagementFilter@6af805bc, org.springframework.security.web.access.ExceptionTranslationFilter@4e49ee5b, org.springframework.security.web.access.intercept.AuthorizationFilter@4fc9b336]
2025-10-21T10:44:24.720+08:00  INFO 53854 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-21T10:44:24.751+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-21T10:44:24.760+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Started TourismApplication in 4.17 seconds (process running for 4.582)
========================================
景德镇文旅服务平台启动成功！
========================================
2025-10-21T10:44:34.943+08:00  INFO 53854 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21T10:44:34.944+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-21T10:44:34.945+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-21T10:44:34.953+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:44:34.967+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:44:34.968+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:44:35.233+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.c.AiRecommendationController       : 用户 3 请求AI推荐: 我想买陶瓷茶具
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614]
JDBC Connection [HikariProxyConnection@400664411 wrapping com.mysql.cj.jdbc.ConnectionImpl@56b1efc8] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614]
2025-10-21T10:44:35.411+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614]
2025-10-21T10:44:35.440+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:44:42.409+08:00  INFO 53854 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-10-21T10:44:42.416+08:00  INFO 53854 --- [       Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-21T10:44:42.418+08:00  INFO 53854 --- [       Thread-5] o.apache.catalina.core.StandardWrapper   : Waiting for [1] instance(s) to be deallocated for Servlet [dispatcherServlet]
2025-10-21T10:44:43.446+08:00  INFO 53854 --- [       Thread-5] o.apache.catalina.core.StandardWrapper   : Waiting for [1] instance(s) to be deallocated for Servlet [dispatcherServlet]
2025-10-21T10:44:44.475+08:00  INFO 53854 --- [       Thread-5] o.apache.catalina.core.StandardWrapper   : Waiting for [1] instance(s) to be deallocated for Servlet [dispatcherServlet]
2025-10-21T10:44:44.578+08:00  INFO 53854 --- [       Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-21T10:44:44.581+08:00  WARN 53854 --- [       Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [api] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.park(LockSupport.java:221)
 java.base/java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1864)
 java.base/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3780)
 java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3725)
 java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)
 java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)
 java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:931)
 java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:133)
 com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.callDeepSeekAPI(AiRecommendationServiceImpl.java:314)
 com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.getRecommendation(AiRecommendationServiceImpl.java:68)
 java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
 java.base/java.lang.reflect.Method.invoke(Method.java:580)
 org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
 org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
 org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
 org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
 org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
 org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
 com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl$$SpringCGLIB$$0.getRecommendation(<generated>)
 com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendation(AiRecommendationController.java:43)
 java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
 java.base/java.lang.reflect.Method.invoke(Method.java:580)
 org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
 org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
 org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
 org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
 com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendation(<generated>)
 java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
 java.base/java.lang.reflect.Method.invoke(Method.java:580)
 org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
 org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
 org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
 org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
 org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
 org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
 org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
 org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
 org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
 org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
 jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
 org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
 jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
 org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
 org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
 org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
 org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
 org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
 org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
 org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
 org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
 org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
 org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
 org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
 org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
 org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
 org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
 org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
 org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
 org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
 org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
 org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
 org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
 org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
 org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
 org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
 java.base/java.lang.Thread.run(Thread.java:1583)]
2025-10-21T10:44:44.586+08:00 ERROR 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : AI推荐失败

java.lang.InterruptedException: null
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:386) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:931) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:133) ~[java.net.http:na]
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.callDeepSeekAPI(AiRecommendationServiceImpl.java:314) ~[classes/:na]
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.getRecommendation(AiRecommendationServiceImpl.java:68) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendation(AiRecommendationController.java:43) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72350614]
2025-10-21T10:44:44.597+08:00 ERROR 53854 --- [nio-8080-exec-1] c.j.t.exception.GlobalExceptionHandler   : 业务异常: AI推荐服务暂时不可用，请稍后重试

com.jingdezhen.tourism.exception.BusinessException: AI推荐服务暂时不可用，请稍后重试
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.getRecommendation(AiRecommendationServiceImpl.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendation(AiRecommendationController.java:43) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-10-21T10:44:44.628+08:00  WARN 53854 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.jingdezhen.tourism.exception.GlobalExceptionHandler#handleBusinessException(BusinessException)

org.apache.catalina.connector.ClientAbortException: java.nio.channels.ClosedChannelException
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:344) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:773) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:294) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.1.5.jar:6.1.5]
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:155) ~[na:na]
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1200) ~[jackson-core-2.15.3.jar:2.15.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063) ~[jackson-databind-2.15.3.jar:2.15.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:103) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:194) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1346) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:589) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:533) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:540) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:193) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.Response.doWrite(Response.java:616) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:331) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	... 98 common frames omitted

2025-10-21T10:44:44.632+08:00 ERROR 53854 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: BusinessException(code=500)] with root cause

com.jingdezhen.tourism.exception.BusinessException: AI推荐服务暂时不可用，请稍后重试
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl.getRecommendation(AiRecommendationServiceImpl.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.service.impl.AiRecommendationServiceImpl$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendation(AiRecommendationController.java:43) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendation(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-10-21T10:44:44.640+08:00  INFO 53854 --- [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-21T10:44:44.646+08:00  INFO 53854 --- [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2025-10-21T10:44:44.733+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Starting TourismApplication using Java 21.0.6 with PID 53854 (/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes started by shirenan in /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend)
2025-10-21T10:44:44.733+08:00 DEBUG 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-10-21T10:44:44.733+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : No active profile set, falling back to 1 default profile: "default"
2025-10-21T10:44:45.083+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-21T10:44:45.083+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-21T10:44:45.083+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-10-21T10:44:45.091+08:00  INFO 53854 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-10-21T10:44:45.091+08:00  INFO 53854 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@314d11cc'
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.3.2 
2025-10-21T10:44:45.180+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-10-21T10:44:45.184+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@232f1306
2025-10-21T10:44:45.185+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-10-21T10:44:45.504+08:00  WARN 53854 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: cdb8c92d-8708-4327-ad92-01dd25ba08b3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-21T10:44:45.529+08:00  INFO 53854 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a387eb8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@695cd1c8, org.springframework.security.web.context.SecurityContextHolderFilter@e981c66, org.springframework.security.web.header.HeaderWriterFilter@4c3e9792, org.springframework.security.web.authentication.logout.LogoutFilter@61cc4562, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ecfeee5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16757ea9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70dba57c, org.springframework.security.web.session.SessionManagementFilter@c46be6e, org.springframework.security.web.access.ExceptionTranslationFilter@dd5a454, org.springframework.security.web.access.intercept.AuthorizationFilter@d1897f3]
2025-10-21T10:44:45.665+08:00  INFO 53854 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-21T10:44:45.677+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-21T10:44:45.680+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Started TourismApplication in 0.973 seconds (process running for 25.502)
2025-10-21T10:44:45.683+08:00  INFO 53854 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
========================================
景德镇文旅服务平台启动成功！
========================================
2025-10-21T10:44:53.177+08:00  INFO 53854 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21T10:44:53.177+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-21T10:44:53.178+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-21T10:44:53.180+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:44:53.180+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:44:53.181+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:44:53.210+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.c.AiRecommendationController       : 用户 3 请求AI推荐: 我想买陶瓷茶具
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
JDBC Connection [HikariProxyConnection@2118924783 wrapping com.mysql.cj.jdbc.ConnectionImpl@232f1306] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
2025-10-21T10:44:53.238+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
2025-10-21T10:44:53.254+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:45:15.631+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:45:15.631+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 1. **推荐理由和建议**  
   您好！很高兴为您推荐景德镇的陶瓷茶具。根据您的需求，您想购买**陶瓷茶具**，偏好**青花瓷**，预算在**500元以内**，人数为**2人**。结合这些条件，我们优先筛选了符合您偏好的青花瓷茶具，并确保价格在预算内。同时，考虑到您可能对陶瓷文化感兴趣，我们还推荐了相关的体验课程，让您不仅能拥有精美的茶具，还能亲身体验陶瓷制作的乐趣。所有推荐产品均来自景德镇官方文旅产品列表，品质有保障！

2. **推荐产品**  
   以下是为您精选的几款产品，均符合您的偏好和预算：  
   - **产品ID: 1**：青花瓷茶具套装  
     - **理由**：这款茶具是纯手工制作的青花瓷套装，画工精细、釉色青翠，完美契合您对青花瓷的偏好；价格388元在预算内，评分高达4.9，位于珠山区交通便利，适合2人品茶或收藏。  
   - **产品ID: 10**：青花绘画体验课程（1.5小时）  
     - **理由**：如果您想亲手绘制青花图案，这个课程非常合适！您可以在白坯杯子上创作，体验传统技法；价格158元性价比高，评分4.9，位于浮梁县三宝国际陶艺村，适合2人共同参与，增强互动乐趣。  
   - **产品ID: 9**：陶瓷拉坯体验课程（2小时）  
     - **理由**：虽然这不是直接购买茶具，但您可以亲手制作陶瓷茶具（如杯子），体验拉坯技艺；价格188元在预算内，评分5.0，课程结束后作品可烧制邮寄，作为独特纪念。  

   这些产品兼顾了您的偏好、预算和体验需求，既有现成的青花瓷茶具，也有动手创作的课程。如果您需要更多细节或调整推荐，请随时告诉我！

**推荐产品：[1, 10, 9]**
2025-10-21T10:45:15.631+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 1
2025-10-21T10:45:15.632+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 10
2025-10-21T10:45:15.632+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 9
2025-10-21T10:45:15.632+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [1, 10, 9]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 9(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 3(Long), 我想买陶瓷茶具(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
用户偏好: 青花瓷
预算范围: 500元以内
人数: 2人
(String), 1. **推荐理由和建议**  
   您好！很高兴为您推荐景德镇的陶瓷茶具。根据您的需求，您想购买**陶瓷茶具**，偏好**青花瓷**，预算在**500元以内**，人数为**2人**。结合这些条件，我们优先筛选了符合您偏好的青花瓷茶具，并确保价格在预算内。同时，考虑到您可能对陶瓷文化感兴趣，我们还推荐了相关的体验课程，让您不仅能拥有精美的茶具，还能亲身体验陶瓷制作的乐趣。所有推荐产品均来自景德镇官方文旅产品列表，品质有保障！

2. **推荐产品**  
   以下是为您精选的几款产品，均符合您的偏好和预算：  
   - **产品ID: 1**：青花瓷茶具套装  
     - **理由**：这款茶具是纯手工制作的青花瓷套装，画工精细、釉色青翠，完美契合您对青花瓷的偏好；价格388元在预算内，评分高达4.9，位于珠山区交通便利，适合2人品茶或收藏。  
   - **产品ID: 10**：青花绘画体验课程（1.5小时）  
     - **理由**：如果您想亲手绘制青花图案，这个课程非常合适！您可以在白坯杯子上创作，体验传统技法；价格158元性价比高，评分4.9，位于浮梁县三宝国际陶艺村，适合2人共同参与，增强互动乐趣。  
   - **产品ID: 9**：陶瓷拉坯体验课程（2小时）  
     - **理由**：虽然这不是直接购买茶具，但您可以亲手制作陶瓷茶具（如杯子），体验拉坯技艺；价格188元在预算内，评分5.0，课程结束后作品可烧制邮寄，作为独特纪念。  

   这些产品兼顾了您的偏好、预算和体验需求，既有现成的青花瓷茶具，也有动手创作的课程。如果您需要更多细节或调整推荐，请随时告诉我！

**推荐产品：[1, 10, 9]**(String), [1,10,9](String), 2025-10-21T10:45:15.650427(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d620ac]
2025-10-21T10:45:21.276+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:45:21.277+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:45:21.277+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:45:21.295+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.c.AiRecommendationController       : 用户 3 请求AI推荐: 推荐一家酒店
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
JDBC Connection [HikariProxyConnection@380974864 wrapping com.mysql.cj.jdbc.ConnectionImpl@232f1306] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %推荐一家酒店%(String), %推荐一家酒店%(String), %推荐一家酒店%(String), %推荐一家酒店%(String), %推荐一家酒店%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
2025-10-21T10:45:21.300+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
2025-10-21T10:45:21.313+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:45:36.854+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:45:36.854+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 1. **推荐理由和建议**  
   根据您的需求（商务出行、1人入住、预算300-500元），我们优先筛选了符合以下条件的产品：  
   - **类型匹配**：选择酒店住宿类产品，满足商务出行的核心需求。  
   - **预算适配**：价格在300-500元范围内，兼顾性价比与舒适度。  
   - **高分优先**：优先推荐评分较高的产品，确保服务品质。  
   目前列表中仅有一款酒店产品完全符合您的要求，以下是具体推荐：

2. **推荐产品**  
   推荐产品：[3]  

   **产品详情说明**  
   - **产品ID 3**：豪华商务套房（双床）  
     - **价格**：458元（在您的预算范围内）  
     - **地区**：昌江区（景德镇核心区域，交通便利）  
     - **设施**：45平米套房，配备独立办公区、高速WiFi，完美契合商务办公需求  
     - **评分**：4.7分（品质有保障）  
     - **标签**：包含“酒店”“商务”等关键词，精准匹配您的偏好  

   若您需要结合其他行程（如陶瓷文化体验或特色餐饮），我们可进一步为您筛选配套产品，欢迎补充需求！  

---
**温馨提示**：当前推荐仅基于现有产品库，如需调整预算或增加服务类型，请随时告知，我将重新为您匹配。
2025-10-21T10:45:36.854+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 3
2025-10-21T10:45:36.854+08:00  INFO 53854 --- [nio-8080-exec-3] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [3]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 3(Long), 推荐一家酒店(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
用户偏好: 商务出行
预算范围: 300-500元
人数: 1人
(String), 1. **推荐理由和建议**  
   根据您的需求（商务出行、1人入住、预算300-500元），我们优先筛选了符合以下条件的产品：  
   - **类型匹配**：选择酒店住宿类产品，满足商务出行的核心需求。  
   - **预算适配**：价格在300-500元范围内，兼顾性价比与舒适度。  
   - **高分优先**：优先推荐评分较高的产品，确保服务品质。  
   目前列表中仅有一款酒店产品完全符合您的要求，以下是具体推荐：

2. **推荐产品**  
   推荐产品：[3]  

   **产品详情说明**  
   - **产品ID 3**：豪华商务套房（双床）  
     - **价格**：458元（在您的预算范围内）  
     - **地区**：昌江区（景德镇核心区域，交通便利）  
     - **设施**：45平米套房，配备独立办公区、高速WiFi，完美契合商务办公需求  
     - **评分**：4.7分（品质有保障）  
     - **标签**：包含“酒店”“商务”等关键词，精准匹配您的偏好  

   若您需要结合其他行程（如陶瓷文化体验或特色餐饮），我们可进一步为您筛选配套产品，欢迎补充需求！  

---
**温馨提示**：当前推荐仅基于现有产品库，如需调整预算或增加服务类型，请随时告知，我将重新为您匹配。(String), [3](String), 2025-10-21T10:45:36.858413(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a63b464]
2025-10-21T10:45:42.634+08:00  INFO 53854 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-10-21T10:45:42.638+08:00  INFO 53854 --- [       Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-21T10:45:42.639+08:00  INFO 53854 --- [       Thread-7] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-21T10:45:42.642+08:00  INFO 53854 --- [       Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-10-21T10:45:42.643+08:00  INFO 53854 --- [       Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2025-10-21T10:45:42.704+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Starting TourismApplication using Java 21.0.6 with PID 53854 (/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes started by shirenan in /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend)
2025-10-21T10:45:42.704+08:00 DEBUG 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-10-21T10:45:42.704+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : No active profile set, falling back to 1 default profile: "default"
2025-10-21T10:45:42.972+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-21T10:45:42.973+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-21T10:45:42.973+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-10-21T10:45:42.979+08:00  INFO 53854 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-10-21T10:45:42.979+08:00  INFO 53854 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 274 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@5e940852'
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.3.2 
2025-10-21T10:45:43.040+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-10-21T10:45:43.043+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3310ae02
2025-10-21T10:45:43.044+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-10-21T10:45:43.279+08:00  WARN 53854 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ba87c6e8-2dac-4a68-a784-d15f1e6ec172

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-21T10:45:43.302+08:00  INFO 53854 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3210f6bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48d720fe, org.springframework.security.web.context.SecurityContextHolderFilter@1d0fe39e, org.springframework.security.web.header.HeaderWriterFilter@7b794e6e, org.springframework.security.web.authentication.logout.LogoutFilter@4a561d6e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47dd7be3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76665748, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6da73905, org.springframework.security.web.session.SessionManagementFilter@baaa6ad, org.springframework.security.web.access.ExceptionTranslationFilter@4d52eb4f, org.springframework.security.web.access.intercept.AuthorizationFilter@22e0b234]
2025-10-21T10:45:43.406+08:00  INFO 53854 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-21T10:45:43.415+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-21T10:45:43.417+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Started TourismApplication in 0.731 seconds (process running for 83.247)
2025-10-21T10:45:43.418+08:00  INFO 53854 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
========================================
景德镇文旅服务平台启动成功！
========================================
2025-10-21T10:45:46.225+08:00  INFO 53854 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21T10:45:46.225+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-21T10:45:46.226+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-21T10:45:46.228+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:45:46.228+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:45:46.228+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:45:46.228+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:45:46.246+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.c.AiRecommendationController       : 用户 1 请求AI推荐: 我想找一个价格实惠的酒店
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
JDBC Connection [HikariProxyConnection@2096539462 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %我想找一个价格实惠的酒店%(String), %我想找一个价格实惠的酒店%(String), %我想找一个价格实惠的酒店%(String), %我想找一个价格实惠的酒店%(String), %我想找一个价格实惠的酒店%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
2025-10-21T10:45:46.254+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
2025-10-21T10:45:46.262+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:46:06.284+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:46:06.285+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 1. **推荐理由和建议**  
   您好！根据您“价格实惠”的需求，我仔细筛选了景德镇文旅产品列表，发现目前提供的产品主要集中在**餐饮、陶瓷体验、旅游线路和工艺品**类别，**暂时没有经济型或标准酒店住宿选项**。列表中唯一涉及住宿的产品是“浮梁古县衙+瑶里古镇二日游”（产品ID: 8），但其价格为588元，且为打包旅游产品，可能不符合您对“实惠酒店”的直接需求。  
   建议您：  
   - 若需单独预订酒店，可通过主流旅行平台（如携程、美团）查询景德镇地区的经济型酒店，价格区间通常在150-300元/晚；  
   - 若对陶瓷文化体验或美食感兴趣，以下推荐一些高性价比的本地特色产品，供您行程参考。  

2. **推荐产品**  
   根据列表中的**低价、高评分和实用性强**的产品，为您筛选以下选项（均低于200元，且评分≥4.8）：  
   - **产品ID: 6**（景德镇小吃拼盘）：58元即可一次性尝遍本地特色小吃，适合快速体验美食。  
   - **产品ID: 5**（景德镇特色套餐）：168元涵盖8道地道菜，适合2-3人共享，人均成本低。  
   - **产品ID: 10**（青花绘画体验课）：158元，1.5小时创意活动，适合亲子或文艺爱好者。  

   若您希望包含住宿的打包行程，可考虑：  
   - **产品ID: 8**（浮梁+瑶里二日游）：588元含住宿与餐食，适合深度游览，但需评估总预算。  

**推荐产品列表**：  
```
推荐产品：[6, 5, 10, 8]
```
如需进一步协助（如调整预算或明确需求），欢迎随时告知！ 😊
2025-10-21T10:46:06.286+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 6
2025-10-21T10:46:06.286+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 5
2025-10-21T10:46:06.286+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 10
2025-10-21T10:46:06.286+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 8
2025-10-21T10:46:06.286+08:00  INFO 53854 --- [nio-8080-exec-1] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [6, 5, 10, 8]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 1(Long), 我想找一个价格实惠的酒店(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
(String), 1. **推荐理由和建议**  
   您好！根据您“价格实惠”的需求，我仔细筛选了景德镇文旅产品列表，发现目前提供的产品主要集中在**餐饮、陶瓷体验、旅游线路和工艺品**类别，**暂时没有经济型或标准酒店住宿选项**。列表中唯一涉及住宿的产品是“浮梁古县衙+瑶里古镇二日游”（产品ID: 8），但其价格为588元，且为打包旅游产品，可能不符合您对“实惠酒店”的直接需求。  
   建议您：  
   - 若需单独预订酒店，可通过主流旅行平台（如携程、美团）查询景德镇地区的经济型酒店，价格区间通常在150-300元/晚；  
   - 若对陶瓷文化体验或美食感兴趣，以下推荐一些高性价比的本地特色产品，供您行程参考。  

2. **推荐产品**  
   根据列表中的**低价、高评分和实用性强**的产品，为您筛选以下选项（均低于200元，且评分≥4.8）：  
   - **产品ID: 6**（景德镇小吃拼盘）：58元即可一次性尝遍本地特色小吃，适合快速体验美食。  
   - **产品ID: 5**（景德镇特色套餐）：168元涵盖8道地道菜，适合2-3人共享，人均成本低。  
   - **产品ID: 10**（青花绘画体验课）：158元，1.5小时创意活动，适合亲子或文艺爱好者。  

   若您希望包含住宿的打包行程，可考虑：  
   - **产品ID: 8**（浮梁+瑶里二日游）：588元含住宿与餐食，适合深度游览，但需评估总预算。  

**推荐产品列表**：  
```
推荐产品：[6, 5, 10, 8]
```
如需进一步协助（如调整预算或明确需求），欢迎随时告知！ 😊(String), [6,5,10,8](String), 2025-10-21T10:46:06.294649(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c38c10]
2025-10-21T10:46:36.823+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:46:36.824+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:46:36.824+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:46:36.824+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:46:36.827+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.c.AiRecommendationController       : 用户 1 请求AI推荐:   "query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
JDBC Connection [HikariProxyConnection@190284126 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %"query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1%(String), %"query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1%(String), %"query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1%(String), %"query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1%(String), %"query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
2025-10-21T10:46:36.832+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
2025-10-21T10:46:36.837+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:46:51.924+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:46:51.924+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 1. **推荐理由和建议**  
   根据您的需求，您正在寻找一家适合**商务出行**、预算在**300-500元**、入住人数为**1人**的酒店。在景德镇的文旅产品列表中，我们筛选出符合您预算和需求的产品，重点关注**酒店住宿类**产品，并综合考虑价格、地理位置、评分及商务出行的便利性。以下是我们的推荐：

---

2. **推荐产品**  
   推荐产品：[3]  

   **推荐理由**：  
   - **精准匹配需求**：产品ID 3是列表中唯一的酒店类产品，且为“豪华商务套房（双床）”，面积45平米，配备独立办公区和免费高速WiFi，非常适合商务出行。  
   - **预算符合**：价格458元在您的预算范围（300-500元）内，性价比高。  
   - **高评分保障**：评分4.7分（满分5分），说明服务质量可靠。  
   - **地理位置便利**：位于昌江区广场北路66号，交通便利，适合商务活动。  

   其他产品（如餐饮、体验课程等）虽具特色，但不符合您的“酒店”需求，因此未纳入推荐。如果您后续需要补充餐饮或文化体验，我们可以进一步为您推荐！

---

如有其他需求（例如餐饮、交通建议等），欢迎随时告知，我将为您提供更多帮助！
2025-10-21T10:46:51.924+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 3
2025-10-21T10:46:51.925+08:00  INFO 53854 --- [nio-8080-exec-2] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [3]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 1(Long),   "query": "推荐一家酒店",     "preferences": "商务出行",     "budget": "300-500元",     "peopleCount": 1(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
(String), 1. **推荐理由和建议**  
   根据您的需求，您正在寻找一家适合**商务出行**、预算在**300-500元**、入住人数为**1人**的酒店。在景德镇的文旅产品列表中，我们筛选出符合您预算和需求的产品，重点关注**酒店住宿类**产品，并综合考虑价格、地理位置、评分及商务出行的便利性。以下是我们的推荐：

---

2. **推荐产品**  
   推荐产品：[3]  

   **推荐理由**：  
   - **精准匹配需求**：产品ID 3是列表中唯一的酒店类产品，且为“豪华商务套房（双床）”，面积45平米，配备独立办公区和免费高速WiFi，非常适合商务出行。  
   - **预算符合**：价格458元在您的预算范围（300-500元）内，性价比高。  
   - **高评分保障**：评分4.7分（满分5分），说明服务质量可靠。  
   - **地理位置便利**：位于昌江区广场北路66号，交通便利，适合商务活动。  

   其他产品（如餐饮、体验课程等）虽具特色，但不符合您的“酒店”需求，因此未纳入推荐。如果您后续需要补充餐饮或文化体验，我们可以进一步为您推荐！

---

如有其他需求（例如餐饮、交通建议等），欢迎随时告知，我将为您提供更多帮助！(String), [3](String), 2025-10-21T10:46:51.927633(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6fb297]
2025-10-21T10:48:34.525+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /user/login
2025-10-21T10:48:34.526+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:48:34.526+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /user/login
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3940203b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2078811642 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,username,password,nickname,email,phone,avatar,gender,birthday,introduction,status,deleted,create_time,update_time FROM user WHERE deleted=0 AND (username = ?)
==> Parameters: testuser(String)
<==    Columns: id, username, password, nickname, email, phone, avatar, gender, birthday, introduction, status, deleted, create_time, update_time
<==        Row: 3, testuser, $2a$10$9os6ttGuVzMBwSXHX7fUfO.Lo0qmiOtkRhJeFYEa/7FlCUBzRzkY., 测试用户, test@example.com, null, null, 0, null, <<BLOB>>, 1, 0, 2025-10-21 10:43:10, 2025-10-21 10:43:10
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3940203b]
2025-10-21T10:48:34.780+08:00 DEBUG 53854 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:48:34.781+08:00 DEBUG 53854 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:48:34.782+08:00 DEBUG 53854 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:48:34.786+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.c.AiRecommendationController       : 用户 3 请求AI推荐: 我想买陶瓷茶具
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
JDBC Connection [HikariProxyConnection@1730245898 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String), %我想买陶瓷茶具%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
2025-10-21T10:48:34.792+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
2025-10-21T10:48:34.801+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:48:56.462+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:48:56.463+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 您好！很高兴为您提供景德镇陶瓷茶具的推荐。根据您的需求——**偏好青花瓷、预算在500元以内、2人使用**，我为您筛选了最匹配的产品。以下是详细推荐：

### 推荐理由：
1. **精准匹配需求**：您明确表示想购买陶瓷茶具且偏好青花瓷，产品库中仅有一款完全符合核心需求的产品。
2. **预算控制**：您的预算为500元，推荐产品价格均在预算范围内，且性价比高。
3. **体验补充建议**：考虑到您是2人同行，若对陶瓷制作过程感兴趣，可搭配体验课程，深度感受景德镇陶瓷文化（非茶具但关联性强）。

### 推荐产品：
**首选推荐**：  
👉 **产品ID 1 - 青花瓷茶具套装**  
- **匹配点**：  
  ✅ 纯正青花瓷工艺，手工绘制，符合您的审美偏好  
  ✅ 专为品茶设计，实用性与收藏性兼备  
  ✅ 价格388元，在预算范围内且评分高达4.9分  
  ✅ 位于珠山区陶瓷大道，交通便利  

**补充体验推荐**（若您想亲手制作陶瓷）：  
👉 **产品ID 10 - 青花绘画体验课程**  
- **推荐理由**：  
  ✅ 可亲手在茶杯/茶盘上绘制青花图案，与茶具主题高度相关  
  ✅ 1.5小时课程时长适中，适合2人共同体验  
  ✅ 价格158元，与茶具套装组合总价546元（略超预算但体验独特）  

---
### 最终推荐产品列表：
**推荐产品：[1, 10]**  

> 注：若您仅购买成品茶具，选择产品ID 1即可；若希望增加创作体验，可组合选择ID 1和ID 10（总价546元，超出预算46元，请根据实际需求决策）。

如有其他偏好调整（如器型、容量等），欢迎随时告知，我会进一步为您分析！ 🫖✨
2025-10-21T10:48:56.464+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 1
2025-10-21T10:48:56.464+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 10
2025-10-21T10:48:56.464+08:00  INFO 53854 --- [nio-8080-exec-4] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [1, 10]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 3(Long), 我想买陶瓷茶具(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
用户偏好: 青花瓷
预算范围: 500元以内
人数: 2人
(String), 您好！很高兴为您提供景德镇陶瓷茶具的推荐。根据您的需求——**偏好青花瓷、预算在500元以内、2人使用**，我为您筛选了最匹配的产品。以下是详细推荐：

### 推荐理由：
1. **精准匹配需求**：您明确表示想购买陶瓷茶具且偏好青花瓷，产品库中仅有一款完全符合核心需求的产品。
2. **预算控制**：您的预算为500元，推荐产品价格均在预算范围内，且性价比高。
3. **体验补充建议**：考虑到您是2人同行，若对陶瓷制作过程感兴趣，可搭配体验课程，深度感受景德镇陶瓷文化（非茶具但关联性强）。

### 推荐产品：
**首选推荐**：  
👉 **产品ID 1 - 青花瓷茶具套装**  
- **匹配点**：  
  ✅ 纯正青花瓷工艺，手工绘制，符合您的审美偏好  
  ✅ 专为品茶设计，实用性与收藏性兼备  
  ✅ 价格388元，在预算范围内且评分高达4.9分  
  ✅ 位于珠山区陶瓷大道，交通便利  

**补充体验推荐**（若您想亲手制作陶瓷）：  
👉 **产品ID 10 - 青花绘画体验课程**  
- **推荐理由**：  
  ✅ 可亲手在茶杯/茶盘上绘制青花图案，与茶具主题高度相关  
  ✅ 1.5小时课程时长适中，适合2人共同体验  
  ✅ 价格158元，与茶具套装组合总价546元（略超预算但体验独特）  

---
### 最终推荐产品列表：
**推荐产品：[1, 10]**  

> 注：若您仅购买成品茶具，选择产品ID 1即可；若希望增加创作体验，可组合选择ID 1和ID 10（总价546元，超出预算46元，请根据实际需求决策）。

如有其他偏好调整（如器型、容量等），欢迎随时告知，我会进一步为您分析！ 🫖✨(String), [1,10](String), 2025-10-21T10:48:56.469636(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300e68d]
2025-10-21T10:49:18.568+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /ai/recommend
2025-10-21T10:49:18.568+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:49:18.568+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:49:18.568+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /ai/recommend
2025-10-21T10:49:18.572+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.c.AiRecommendationController       : 用户 1 请求AI推荐: 我想买陶瓷茶具青花瓷500元内
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
JDBC Connection [HikariProxyConnection@803491108 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND (title LIKE ? OR description LIKE ? OR tags LIKE ? OR region LIKE ? OR features LIKE ?)) ORDER BY recommend DESC,rating DESC,sales DESC LIMIT 30
==> Parameters: 1(Integer), %我想买陶瓷茶具青花瓷500元内%(String), %我想买陶瓷茶具青花瓷500元内%(String), %我想买陶瓷茶具青花瓷500元内%(String), %我想买陶瓷茶具青花瓷500元内%(String), %我想买陶瓷茶具青花瓷500元内%(String)
<==      Total: 0
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
2025-10-21T10:49:18.576+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : 查询到 0 个匹配的产品
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ? AND recommend = ?) ORDER BY rating DESC,sales DESC LIMIT 20
==> Parameters: 1(Integer), 1(Integer)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 10
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
2025-10-21T10:49:18.581+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : 补充了 10 个推荐产品，总计 10 个产品
2025-10-21T10:49:28.423+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : 可用产品ID列表: [1, 2, 3, 5, 6, 7, 8, 9, 10, 13]
2025-10-21T10:49:28.423+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : AI响应内容: 您好！根据您的需求“想买陶瓷茶具青花瓷500元内”，我为您进行了精准筛选。在提供的产品列表中，**产品ID 1** 完全符合您的所有要求：它是正宗的景德镇青花瓷茶具，价格在500元预算内，且评分高达4.9分，品质和口碑都非常出色。

**推荐理由如下：**
- **精准匹配需求**：这是列表中唯一一款明确标注为“青花瓷茶具套装”的产品，与您的查询完全一致。
- **价格优势**：价格为388元，远低于您的500元预算，性价比很高。
- **品质保证**：产品描述中提到它采用优质高岭土，由手工拉坯和纯手工绘制而成，属于“收藏级”品质，非常适合自用或送礼。

因此，这是我为您推荐的最合适、最匹配的产品。

---
推荐产品：[1]
2025-10-21T10:49:28.424+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : 成功解析并验证产品ID: 1
2025-10-21T10:49:28.424+08:00  INFO 53854 --- [nio-8080-exec-5] c.j.t.s.i.AiRecommendationServiceImpl    : 最终推荐的产品ID列表: [1]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b] from current transaction
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b] from current transaction
==>  Preparing: INSERT INTO ai_recommendation ( user_id, query, context, response, recommended_products, create_time ) VALUES ( ?, ?, ?, ?, ?, ? )
==> Parameters: 1(Long), 我想买陶瓷茶具青花瓷500元内(String), 景德镇文旅产品信息：
产品ID: 6
标题: 景德镇小吃拼盘
描述: 汇集景德镇最具特色的小吃：饺子粑、油条包麻糍、碱水粑、冷粉等。小份装，可以一次品尝多种美味。
价格: 58.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 5.0
标签: ["小吃", "拼盘", "特色", "地道"]
---
产品ID: 9
标题: 陶瓷拉坯体验课程（2小时）
描述: 专业陶艺老师一对一指导，体验传统拉坯技艺。从练泥、拉坯到修坯，全程体验。作品可烧制后邮寄（邮费自理）。
价格: 188.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 5.0
标签: ["体验", "拉坯", "陶艺", "亲子"]
---
产品ID: 5
标题: 景德镇特色套餐（2-3人）
描述: 包含饺子粑、碱水粑、冷粉、瓷泥煨鸡、景德板鸡等8道地道景德镇美食。分量充足，适合2-3人享用。
价格: 168.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["美食", "套餐", "特色", "地道"]
---
产品ID: 13
标题: 瓷泥煨鸡（招牌菜）
描述: 景德镇特色名菜，用陶瓷泥包裹土鸡，文火慢煨。肉质鲜嫩，香味浓郁。
价格: 98.00元
地区: 珠山区
地址: 江西省景德镇市珠山区中华北路128号
评分: 4.9
标签: ["招牌菜", "特色", "土鸡", "瓷泥煨"]
---
产品ID: 7
标题: 景德镇陶瓷文化一日游
描述: 深度游览景德镇陶瓷文化。参观景德镇陶瓷博物馆、古窑民俗博览区、陶溪川文创街区。专业导游讲解，含中餐和门票。
价格: 268.00元
地区: 全市
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.9
标签: ["一日游", "陶瓷文化", "导游", "含餐"]
---
产品ID: 10
标题: 青花绘画体验课程（1.5小时）
描述: 学习传统青花瓷绘画技法，在白坯盘子、碗或杯子上绘制自己喜欢的图案。老师提供图案参考和技法指导。
价格: 158.00元
地区: 浮梁县
地址: 江西省景德镇市浮梁县三宝国际陶艺村
评分: 4.9
标签: ["体验", "青花", "绘画", "创意"]
---
产品ID: 1
标题: 青花瓷茶具套装
描述: 精选景德镇优质高岭土，手工拉坯成型，纯手工绘制青花图案。釉色青翠，画工精细，是品茶、收藏的上乘之选。
价格: 388.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.9
标签: ["青花瓷", "茶具", "手工", "收藏级"]
---
产品ID: 8
标题: 浮梁古县衙+瑶里古镇二日游
描述: 探访千年古县城浮梁，游览保存完好的古县衙。第二天前往瑶里古镇，感受原生态的古村落风情。含住宿和餐食。
价格: 588.00元
地区: 浮梁县
地址: 江西省景德镇市昌江区瓷都大道298号
评分: 4.8
标签: ["二日游", "古镇", "文化", "含住宿"]
---
产品ID: 2
标题: 粉彩花瓶摆件
描述: 粉彩装饰技法，色彩柔和淡雅。器型端庄大方，绘有牡丹花卉图案，寓意富贵吉祥。适合家居装饰，彰显品味。
价格: 268.00元
地区: 珠山区
地址: 江西省景德镇市珠山区陶瓷大道188号
评分: 4.8
标签: ["粉彩", "花瓶", "摆件", "装饰"]
---
产品ID: 3
标题: 豪华商务套房（双床）
描述: 45平米豪华套房，双床配置，适合商务出差、家庭出游。配备独立办公区、舒适沙发、55寸智能电视，免费高速WiFi。
价格: 458.00元
地区: 昌江区
地址: 江西省景德镇市昌江区广场北路66号
评分: 4.7
标签: ["酒店", "豪华套房", "双床", "商务"]
---
(String), 您好！根据您的需求“想买陶瓷茶具青花瓷500元内”，我为您进行了精准筛选。在提供的产品列表中，**产品ID 1** 完全符合您的所有要求：它是正宗的景德镇青花瓷茶具，价格在500元预算内，且评分高达4.9分，品质和口碑都非常出色。

**推荐理由如下：**
- **精准匹配需求**：这是列表中唯一一款明确标注为“青花瓷茶具套装”的产品，与您的查询完全一致。
- **价格优势**：价格为388元，远低于您的500元预算，性价比很高。
- **品质保证**：产品描述中提到它采用优质高岭土，由手工拉坯和纯手工绘制而成，属于“收藏级”品质，非常适合自用或送礼。

因此，这是我为您推荐的最合适、最匹配的产品。

---
推荐产品：[1](String), [1](String), 2025-10-21T10:49:28.427454(LocalDateTime)
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ef78b]
2025-10-21T10:49:47.719+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:49:47.720+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:49:47.720+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:49:47.720+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35425d8b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1770872257 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35425d8b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749db9f6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@770527967 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749db9f6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd99fab] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@873648623 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd99fab]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d6f43a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1389082334 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d6f43a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc9ddba] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2061012285 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc9ddba]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b8ee1d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1791934653 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b8ee1d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74842f93] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@196345624 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74842f93]
2025-10-21T10:49:51.377+08:00 DEBUG 53854 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:49:51.377+08:00 DEBUG 53854 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:49:51.377+08:00 DEBUG 53854 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:49:51.377+08:00 DEBUG 53854 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8d272a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@409030061 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8d272a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b173078] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@404854981 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b173078]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad8fbf6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1751027749 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad8fbf6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ded2ce] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2120521224 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ded2ce]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ca8f54] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1161263905 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ca8f54]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423111c1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1713739516 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423111c1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd21e8c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@103260622 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd21e8c]
2025-10-21T10:49:56.351+08:00 DEBUG 53854 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:49:56.352+08:00 DEBUG 53854 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:49:56.352+08:00 DEBUG 53854 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:49:56.352+08:00 DEBUG 53854 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128cab9f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1628797317 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128cab9f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab2d143] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@10567873 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab2d143]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcaad9e] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@330188269 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcaad9e]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e23918] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1323227207 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e23918]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf99b8a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1846955284 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf99b8a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aba6f66] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1836613744 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aba6f66]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7248ed58] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@726695208 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7248ed58]
2025-10-21T10:50:07.005+08:00 DEBUG 53854 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:50:07.006+08:00 DEBUG 53854 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:50:07.006+08:00 DEBUG 53854 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:50:07.006+08:00 DEBUG 53854 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673c4220] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@646110296 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673c4220]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3422ae14] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1838640708 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3422ae14]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bf490c] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@139202593 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bf490c]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d816cb4] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@2124785441 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d816cb4]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350d7b84] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@323962205 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350d7b84]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@557b0f7b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@192192267 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@557b0f7b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211edbc4] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@739444811 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211edbc4]
2025-10-21T10:54:36.231+08:00 DEBUG 53854 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:54:36.232+08:00 DEBUG 53854 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:54:36.233+08:00 DEBUG 53854 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:54:36.234+08:00 DEBUG 53854 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d4f8e1] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1803887719 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d4f8e1]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1c6bd2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@440161844 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1c6bd2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6197561e] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1550381829 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6197561e]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6ce883] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@68186838 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6ce883]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b40eec] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1864686697 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b40eec]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d57361e] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1516473910 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d57361e]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5720003e] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1137912578 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5720003e]
2025-10-21T10:55:28.407+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=45s162ms).
2025-10-21T10:59:53.990+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T10:59:53.990+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T10:59:53.990+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T10:59:53.990+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf0b13a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1775945827 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf0b13a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0add94] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@623679334 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0add94]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d316e6a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1637609509 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d316e6a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608c0c50] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1181252629 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608c0c50]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a9769f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@910623382 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a9769f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eaa3d5d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1397402521 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eaa3d5d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf8e549] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1137145694 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf8e549]
2025-10-21T11:39:58.237+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=39m59s790ms).
2025-10-21T11:40:02.249+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T11:40:02.250+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T11:40:02.250+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T11:40:02.250+08:00 DEBUG 53854 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@409203e5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1310845474 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@409203e5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7630eb] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@801613821 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7630eb]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fe357a] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@726708838 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fe357a]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5114d20d] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1413769392 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5114d20d]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13fff3d7] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1686949663 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13fff3d7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207e5cb6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1291018789 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207e5cb6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ceb171f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1579315672 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ceb171f]
2025-10-21T12:12:33.566+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=32m5s323ms).
2025-10-21T12:12:36.693+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-21T12:12:36.693+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-21T12:12:36.693+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-21T12:12:36.693+08:00 DEBUG 53854 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518fd5b6] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@97539988 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM ai_recommendation WHERE deleted = 0 AND (user_id = ?)
==> Parameters: 1(Long)
<==    Columns: total
<==        Row: 12
<==      Total: 1
==>  Preparing: SELECT id,user_id,query,context,response,recommended_products,feedback,deleted,create_time FROM ai_recommendation WHERE deleted=0 AND (user_id = ?) ORDER BY create_time DESC LIMIT ?
==> Parameters: 1(Long), 20(Long)
<==    Columns: id, user_id, query, context, response, recommended_products, feedback, deleted, create_time
<==        Row: 15, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:49:28
<==        Row: 13, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:52
<==        Row: 12, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:46:06
<==        Row: 9, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:18:35
<==        Row: 8, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-21 10:16:53
<==        Row: 7, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 11:00:32
<==        Row: 6, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:58:56
<==        Row: 5, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:55:21
<==        Row: 4, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:51:03
<==        Row: 3, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:47:52
<==        Row: 2, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:46:46
<==        Row: 1, 1, <<BLOB>>, <<BLOB>>, <<BLOB>>, <<BLOB>>, null, 0, 2025-10-20 10:43:59
<==      Total: 12
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518fd5b6]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@411dc85f] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1182157599 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 1(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@411dc85f]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bf4436] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@181350382 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 3(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 3, 2, 2, 豪华商务套房（双床）, <<BLOB>>, https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800, <<BLOB>>, 458.00, 680.00, 10, 245, 昌江区, 江西省景德镇市昌江区广场北路66号, null, null, 4.7, ["酒店", "豪华套房", "双床", "商务"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bf4436]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e1c1a2] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1721810012 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 6(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e1c1a2]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bd3be5] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1910906433 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 5(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bd3be5]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d52018b] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@840922071 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 10(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d52018b]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d42b31] was not registered for synchronization because synchronization is not active
JDBC Connection [HikariProxyConnection@1409755097 wrapping com.mysql.cj.jdbc.ConnectionImpl@3310ae02] will not be managed by Spring
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE id=? AND deleted=0
==> Parameters: 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 8, 4, 1, 浮梁古县衙+瑶里古镇二日游, <<BLOB>>, https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800, <<BLOB>>, 588.00, 788.00, 30, 234, 浮梁县, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.8, ["二日游", "古镇", "文化", "含住宿"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d42b31]
2025-10-21T12:28:34.171+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m588ms).
2025-10-21T12:44:31.188+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m27s10ms).
2025-10-21T14:00:24.466+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m52s443ms).
2025-10-21T15:17:12.577+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m47s307ms).
2025-10-21T16:15:48.943+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=13m5s763ms).
2025-10-21T16:32:54.464+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m35s512ms).
2025-10-21T16:40:17.887+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=6m53s420ms).
2025-10-21T16:48:17.782+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Retrograde clock change detected (housekeeper delta=29s512ms), soft-evicting connections from pool.
2025-10-21T20:50:34.981+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=30m15s369ms).
2025-10-21T22:08:16.726+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m10s924ms).
2025-10-21T23:16:04.609+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=7m47s130ms).
2025-10-21T23:34:35.474+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m504ms).
2025-10-21T23:57:43.904+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m8s375ms).
2025-10-22T00:21:25.285+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m41s309ms).
2025-10-22T01:37:34.606+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m8s649ms).
2025-10-22T02:52:28.152+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m52s885ms).
2025-10-22T03:09:13.651+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m15s488ms).
2025-10-22T03:25:37.207+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m53s545ms).
2025-10-22T03:43:01.732+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m24s525ms).
2025-10-22T03:59:15.277+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m43s537ms).
2025-10-22T04:16:36.803+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m51s514ms).
2025-10-22T04:32:23.325+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m46s522ms).
2025-10-22T04:51:16.823+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m23s494ms).
2025-10-22T05:09:42.381+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m55s548ms).
2025-10-22T05:25:42.637+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m30s250ms).
2025-10-22T05:41:50.178+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m7s542ms).
2025-10-22T05:59:01.656+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m41s470ms).
2025-10-22T06:10:55.194+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=11m23s535ms).
2025-10-22T06:27:22.714+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m27s520ms).
2025-10-22T06:44:13.533+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m20s500ms).
2025-10-22T07:01:04.517+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m20s975ms).
2025-10-22T07:11:48.006+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=10m13s488ms).
2025-10-22T07:29:40.544+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m22s533ms).
2025-10-22T07:45:11.647+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m31s103ms).
2025-10-22T08:02:04.480+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m22s475ms).
2025-10-22T08:12:54.989+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=10m20s499ms).
2025-10-22T08:30:13.495+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m48s505ms).
2025-10-22T08:47:27.957+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m44s457ms).
2025-10-22T09:05:13.456+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m15s496ms).
2025-10-22T09:13:39.951+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=8m26s495ms).
2025-10-22T09:31:47.529+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m37s523ms).
2025-10-22T09:47:55.049+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m37s508ms).
2025-10-22T10:04:04.930+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m39s869ms).
2025-10-22T10:07:44.431+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m9s492ms).
2025-10-22T11:14:49.909+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=7m34s792ms).
2025-10-22T11:32:54.436+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m34s516ms).
2025-10-22T11:49:20.522+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m56s76ms).
2025-10-22T12:06:39.051+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m48s523ms).
2025-10-22T12:15:47.565+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=9m8s515ms).
2025-10-22T12:32:22.087+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m4s515ms).
2025-10-22T12:49:26.573+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m34s479ms).
2025-10-22T13:04:56.663+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m30s90ms).
2025-10-22T13:16:53.198+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=11m26s527ms).
2025-10-22T13:33:22.711+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m59s505ms).
2025-10-22T13:50:02.232+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m9s514ms).
2025-10-22T13:54:50.317+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=4m48s85ms).
2025-10-22T16:31:45.130+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=30m23s776ms).
2025-10-22T17:49:59.767+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m43s944ms).
2025-10-22T18:57:17.450+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=7m16s998ms).
2025-10-22T20:03:58.822+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=6m10s686ms).
2025-10-22T20:37:32.048+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m33s31ms).
2025-10-22T20:54:03.546+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m31s498ms).
2025-10-22T20:58:29.067+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m55s515ms).
2025-10-22T21:14:40.575+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m41s497ms).
2025-10-22T21:31:11.360+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m778ms).
2025-10-22T21:48:06.758+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m55s398ms).
2025-10-22T21:59:25.277+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=10m48s517ms).
2025-10-22T22:16:37.567+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m42s286ms).
2025-10-22T22:32:35.103+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m27s525ms).
2025-10-22T22:57:21.880+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m46s705ms).
2025-10-22T23:20:02.444+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m40s497ms).
2025-10-22T23:38:50.000+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m17s551ms).
2025-10-22T23:56:37.500+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m17s489ms).
2025-10-23T00:00:18.076+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m40s576ms).
2025-10-23T00:18:04.711+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m16s261ms).
2025-10-23T00:36:37.182+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m2s461ms).
2025-10-23T00:53:55.695+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m48s504ms).
2025-10-23T01:11:16.198+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m20s503ms).
2025-10-23T01:29:08.163+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m21s959ms).
2025-10-23T01:47:20.722+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m12s544ms).
2025-10-23T02:05:04.107+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m13s377ms).
2025-10-23T02:22:02.083+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m57s976ms).
2025-10-23T02:38:10.503+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m38s50ms).
2025-10-23T02:48:23.042+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=9m42s532ms).
2025-10-23T03:07:18.561+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m25s512ms).
2025-10-23T03:25:29.071+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m10s510ms).
2025-10-23T03:42:32.604+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m33s527ms).
2025-10-23T03:58:51.142+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m48s528ms).
2025-10-23T04:15:29.088+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m37s945ms).
2025-10-23T04:33:56.615+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m57s518ms).
2025-10-23T04:51:59.200+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m2s571ms).
2025-10-23T05:08:54.738+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m25s527ms).
2025-10-23T05:24:35.139+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m40s401ms).
2025-10-23T05:42:42.644+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m37s496ms).
2025-10-23T05:59:46.158+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m33s507ms).
2025-10-23T06:16:53.651+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m37s489ms).
2025-10-23T06:33:17.702+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m24s51ms).
2025-10-23T06:51:15.226+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m27s523ms).
2025-10-23T07:00:51.753+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=9m6s518ms).
2025-10-23T07:18:50.444+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m28s683ms).
2025-10-23T07:37:17.965+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m57s519ms).
2025-10-23T07:50:57.468+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=13m39s503ms).
2025-10-23T07:53:47.005+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=2m19s531ms).
2025-10-23T08:20:00.901+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=26m13s896ms).
2025-10-23T08:56:43.921+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m42s798ms).
2025-10-23T09:19:56.758+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=2m58s890ms).
2025-10-23T10:17:22.183+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=27m25s437ms).
2025-10-23T11:01:17.315+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=43m55s133ms).
2025-10-23T12:05:12.506+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=1h3m55s190ms).
2025-10-23T12:52:13.012+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=47m408ms).
2025-10-23T13:48:35.779+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=56m22s865ms).
2025-10-23T14:05:01.161+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m25s363ms).
2025-10-23T14:20:57.707+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m26s540ms).
2025-10-23T14:30:03.600+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=7m5s869ms).
2025-10-23T18:18:01.487+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=30m26s217ms).
2025-10-23T19:37:01.311+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m28s909ms).
2025-10-23T19:53:01.340+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Retrograde clock change detected (housekeeper delta=29s830ms), soft-evicting connections from pool.
2025-10-23T20:29:48.007+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=2m46s285ms).
2025-10-23T21:09:18.755+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=20m324ms).
2025-10-24T00:16:09.226+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=2m49s280ms).
2025-10-24T00:43:41.223+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=27m1s920ms).
2025-10-24T01:16:39.384+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m27s894ms).
2025-10-24T01:34:20.352+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m40s959ms).
2025-10-24T01:52:01.746+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m11s378ms).
2025-10-24T02:10:48.791+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m17s17ms).
2025-10-24T03:14:18.032+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m27s588ms).
2025-10-24T04:08:32.527+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m43s842ms).
2025-10-24T04:14:29.043+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m26s472ms).
2025-10-24T04:32:18.569+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m49s526ms).
2025-10-24T04:50:58.044+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m9s471ms).
2025-10-24T05:09:46.514+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=18m18s460ms).
2025-10-24T06:01:28.747+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m41s675ms).
2025-10-24T06:15:35.246+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=13m36s487ms).
2025-10-24T06:32:30.663+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=16m55s417ms).
2025-10-24T06:48:57.072+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m56s398ms).
2025-10-24T07:05:21.516+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m54s434ms).
2025-10-24T07:16:11.606+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=10m50s90ms).
2025-10-24T07:32:24.427+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=15m42s488ms).
2025-10-24T07:50:15.883+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=17m21s446ms).
2025-10-24T07:56:12.309+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m26s412ms).
2025-10-24T08:15:50.346+08:00  WARN 53854 --- [l-3 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=19m38s37ms).
2025-10-24T08:27:02.752+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /file/c5d85da2-3b4a-4513-9eab-fa66a0eb1183.png
2025-10-24T08:27:02.752+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /product/list?current=1&size=8
2025-10-24T08:27:02.760+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-24T08:27:02.760+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-24T08:27:02.764+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-24T08:27:02.764+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-24T08:27:02.765+08:00 DEBUG 53854 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /product/list?current=1&size=8
2025-10-24T08:27:02.765+08:00 DEBUG 53854 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /file/c5d85da2-3b4a-4513-9eab-fa66a0eb1183.png
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8419d8] was not registered for synchronization because synchronization is not active
2025-10-24T08:27:02.837+08:00 ERROR 53854 --- [nio-8080-exec-6] c.j.tourism.controller.FileController    : 文件读取失败: c5d85da2-3b4a-4513-9eab-fa66a0eb1183.png

java.nio.file.NoSuchFileException: ./uploads/c5d85da2-3b4a-4513-9eab-fa66a0eb1183.png
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na]
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106) ~[na:na]
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na]
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261) ~[na:na]
	at java.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]
	at java.base/java.nio.file.Files.newByteChannel(Files.java:432) ~[na:na]
	at java.base/java.nio.file.Files.readAllBytes(Files.java:3281) ~[na:na]
	at com.jingdezhen.tourism.controller.FileController.getFile(FileController.java:85) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

JDBC Connection [HikariProxyConnection@276799493 wrapping com.mysql.cj.jdbc.ConnectionImpl@31c686bc] will not be managed by Spring
==>  Preparing: SELECT COUNT(*) AS total FROM product WHERE deleted = 0 AND (status = ?)
==> Parameters: 1(Integer)
<==    Columns: total
<==        Row: 13
<==      Total: 1
==>  Preparing: SELECT id,merchant_id,category_id,title,description,cover_image,images,price,original_price,stock,sales,region,address,latitude,longitude,rating,tags,features,notice,status,recommend,deleted,create_time,update_time FROM product WHERE deleted=0 AND (status = ?) ORDER BY recommend DESC,rating DESC LIMIT ?
==> Parameters: 1(Integer), 8(Long)
<==    Columns: id, merchant_id, category_id, title, description, cover_image, images, price, original_price, stock, sales, region, address, latitude, longitude, rating, tags, features, notice, status, recommend, deleted, create_time, update_time
<==        Row: 6, 3, 3, 景德镇小吃拼盘, <<BLOB>>, https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800, <<BLOB>>, 58.00, 88.00, 998, 877, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 5.0, ["小吃", "拼盘", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 9, 5, 4, 陶瓷拉坯体验课程（2小时）, <<BLOB>>, https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=800, <<BLOB>>, 188.00, 268.00, 20, 345, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 5.0, ["体验", "拉坯", "陶艺", "亲子"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 1, 1, 1, 青花瓷茶具套装, <<BLOB>>, https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800, <<BLOB>>, 388.00, 580.00, 50, 128, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.9, ["青花瓷", "茶具", "手工", "收藏级"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 5, 3, 3, 景德镇特色套餐（2-3人）, <<BLOB>>, https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800, <<BLOB>>, 168.00, 238.00, 999, 1245, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["美食", "套餐", "特色", "地道"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 7, 4, 1, 景德镇陶瓷文化一日游, <<BLOB>>, https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800, <<BLOB>>, 268.00, 388.00, 50, 567, 全市, 江西省景德镇市昌江区瓷都大道298号, null, null, 4.9, ["一日游", "陶瓷文化", "导游", "含餐"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 10, 5, 4, 青花绘画体验课程（1.5小时）, <<BLOB>>, https://images.unsplash.com/photo-1513519245088-0e12902e35ca?w=800, <<BLOB>>, 158.00, 218.00, 30, 289, 浮梁县, 江西省景德镇市浮梁县三宝国际陶艺村, null, null, 4.9, ["体验", "青花", "绘画", "创意"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 13, 3, 3, 瓷泥煨鸡（招牌菜）, <<BLOB>>, https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=800, <<BLOB>>, 98.00, null, 998, 679, 珠山区, 江西省景德镇市珠山区中华北路128号, null, null, 4.9, ["招牌菜", "特色", "土鸡", "瓷泥煨"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==        Row: 2, 1, 4, 粉彩花瓶摆件, <<BLOB>>, https://images.unsplash.com/photo-1610725664285-7c57e6eeac3f?w=800, <<BLOB>>, 268.00, 398.00, 30, 89, 珠山区, 江西省景德镇市珠山区陶瓷大道188号, null, null, 4.8, ["粉彩", "花瓶", "摆件", "装饰"], <<BLOB>>, <<BLOB>>, 1, 1, 0, 2025-10-16 09:27:31, 2025-10-16 09:27:31
<==      Total: 8
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8419d8]
2025-10-24T08:27:04.698+08:00  INFO 53854 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-10-24T08:27:04.741+08:00  INFO 53854 --- [      Thread-11] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-24T08:27:04.743+08:00  INFO 53854 --- [      Thread-11] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-24T08:27:04.773+08:00  INFO 53854 --- [      Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-10-24T08:27:04.776+08:00  INFO 53854 --- [      Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2025-10-24T08:27:05.163+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Starting TourismApplication using Java 21.0.6 with PID 53854 (/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes started by shirenan in /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend)
2025-10-24T08:27:05.163+08:00 DEBUG 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-10-24T08:27:05.163+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : No active profile set, falling back to 1 default profile: "default"
2025-10-24T08:27:05.892+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-24T08:27:05.894+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-24T08:27:05.894+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-10-24T08:27:05.920+08:00  INFO 53854 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-10-24T08:27:05.920+08:00  INFO 53854 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 752 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@5ae19d46'
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.3.2 
2025-10-24T08:27:06.186+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-10-24T08:27:06.195+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37d2e5cd
2025-10-24T08:27:06.195+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-10-24T08:27:06.446+08:00  WARN 53854 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aiRecommendationController' defined in file [/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes/com/jingdezhen/tourism/controller/AiRecommendationController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.jingdezhen.tourism.service.AiRecommendationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-24T08:27:06.447+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-10-24T08:27:06.464+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-10-24T08:27:06.465+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-24T08:27:06.480+08:00  INFO 53854 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-24T08:27:06.528+08:00 ERROR 53854 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.jingdezhen.tourism.controller.AiRecommendationController required a bean of type 'com.jingdezhen.tourism.service.AiRecommendationService' that could not be found.


Action:

Consider defining a bean of type 'com.jingdezhen.tourism.service.AiRecommendationService' in your configuration.


  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2025-10-24T08:27:07.978+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Starting TourismApplication using Java 21.0.6 with PID 53854 (/Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend/target/classes started by shirenan in /Users/shirenan/Desktop/Zsq_JingdezhenCulturalTourismServicePlatform/backend)
2025-10-24T08:27:07.978+08:00 DEBUG 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-10-24T08:27:07.979+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : No active profile set, falling back to 1 default profile: "default"
2025-10-24T08:27:08.230+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-24T08:27:08.232+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-24T08:27:08.232+08:00  INFO 53854 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-10-24T08:27:08.241+08:00  INFO 53854 --- [  restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/api]  : Initializing Spring embedded WebApplicationContext
2025-10-24T08:27:08.242+08:00  INFO 53854 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 262 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@65eba5d0'
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.3.2 
2025-10-24T08:27:08.325+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-10-24T08:27:08.327+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3005aff3
2025-10-24T08:27:08.328+08:00  INFO 53854 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-10-24T08:27:08.694+08:00  WARN 53854 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fb0f3511-9c04-42a9-ab63-e9b55af65a34

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-24T08:27:08.731+08:00  INFO 53854 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74940b41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d245f94, org.springframework.security.web.context.SecurityContextHolderFilter@7ad41677, org.springframework.security.web.header.HeaderWriterFilter@14e9e0cd, org.springframework.security.web.authentication.logout.LogoutFilter@30853aa6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d240a93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66107a72, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26c3ff17, org.springframework.security.web.session.SessionManagementFilter@1c51a0b1, org.springframework.security.web.access.ExceptionTranslationFilter@5893f49a, org.springframework.security.web.access.intercept.AuthorizationFilter@2ac8d724]
2025-10-24T08:27:08.883+08:00  INFO 53854 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-24T08:27:08.894+08:00  INFO 53854 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24T08:27:08.897+08:00  INFO 53854 --- [  restartedMain] c.jingdezhen.tourism.TourismApplication  : Started TourismApplication in 0.945 seconds (process running for 115410.48)
2025-10-24T08:27:08.898+08:00  INFO 53854 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
========================================
景德镇文旅服务平台启动成功！
========================================
2025-10-24T08:27:46.036+08:00  INFO 53854 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/api]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24T08:27:46.036+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-24T08:27:46.037+08:00  INFO 53854 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-24T08:27:46.038+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /ai/history?current=1&size=20
2025-10-24T08:27:46.039+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-24T08:27:46.039+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5C9FDDF27878FB48B2F59FBBEB952037
2025-10-24T08:27:46.039+08:00 DEBUG 53854 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /ai/history?current=1&size=20
2025-10-24T08:27:46.056+08:00 ERROR 53854 --- [nio-8080-exec-1] c.j.t.c.AiRecommendationController       : 获取用户ID失败

com.jingdezhen.tourism.exception.BusinessException: 登录已过期，请重新登录
	at com.jingdezhen.tourism.utils.TokenUtil.getUserIdFromAuth(TokenUtil.java:38) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getUserIdFromRequest(AiRecommendationController.java:98) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendationHistory(AiRecommendationController.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendationHistory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-10-24T08:27:46.062+08:00 ERROR 53854 --- [nio-8080-exec-1] c.j.t.exception.GlobalExceptionHandler   : 系统异常: 用户未登录或登录已过期

java.lang.RuntimeException: 用户未登录或登录已过期
	at com.jingdezhen.tourism.controller.AiRecommendationController.getUserIdFromRequest(AiRecommendationController.java:101) ~[classes/:na]
	at com.jingdezhen.tourism.controller.AiRecommendationController.getRecommendationHistory(AiRecommendationController.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.jingdezhen.tourism.controller.AiRecommendationController$$SpringCGLIB$$0.getRecommendationHistory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-10-24T08:27:46.070+08:00  WARN 53854 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: 用户未登录或登录已过期]
